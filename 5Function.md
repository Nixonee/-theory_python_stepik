# ==**База**==

**`Функция`** – отдельная, функционально независимая часть программы, выполняющая определенную задачу.**

**`Аргумент`** – это любая порция данных, которая передается в функцию, когда функция вызывается. 

**`Параметр`** – это переменная, которая получает аргумент, переданный в функцию.
## Что выделять в функции?

В функцию можно выделить любой законченный фрагмент программы. Можно ориентироваться на рекомендации:

- Когда несколько раз пишете в программе одну и ту же последовательность команд, необходимость введения функции приобретает характер острой внутренней потребности;
- Иногда обилие мелочей заслоняет главное и полезно убрать в функцию подробности, скрывающие смысл основной программы;
- Полезно разбить длинную программу на составные части, как книгу разбивают на главы, при этом основная программа становится похожей на оглавление;
- Сложные частные алгоритмы бывает полезно отладить отдельно в небольших тестирующих программах. Включить их в основную программу будет легко, если они оформлены в виде функций. Например, функций сортировок;
- Сделанное хорошо в одной программе, хочется перенести в новые. Для повторного использования лучше сразу выделять в программе полезные алгоритмы в отдельные функции, а функции собирать в пакеты.
## **`Локальными`** называются переменные, объявленные внутри функции и доступные только ей самой. Программный код за пределами функции к ним доступа не имеет.

Рассмотрим функцию `print_texas()`, которая выводит информацию о количестве птиц, обитающих в Техасе.

```python
def print_texas():
    birds = 5000
    print('В Техасе обитает', birds, 'птиц.')
```

В теле функции мы создаем переменную `birds`, которой присваивается значение, равное `5000`. Такая переменная является локальной для функции `print_texas()`. Всякий раз, когда переменной внутри функции присваивается значение, в результате **создаётся локальная переменная**. Она принадлежит функции, в которой создаётся, и к ней получает доступ только программный код этой функции.

## **`Глобальными`** называются переменные, объявленные в основной программе и доступные как программе, так и всем ее функциям.

Рассмотрим следующий программный код:

```python
birds = 5000    # глобальная переменная

def print_texas():
    print('В Техасе обитает', birds, 'птиц.')

def print_california():
    print('В Калифорнии обитает', birds, 'птиц.')
```

В самом начале программы создаем глобальную переменную `birds`, значение которой равно `5000`. Далее описываем две функции, обращающиеся к глобальной переменной.

Приведённый ниже код:

```python
print_texas()
print_california()
```

выводит:

```no-highlight
В Техасе обитает 5000 птиц.
В Калифорнии обитает 5000 птиц.
```

### Ключевое слово global

Если нужно, чтобы инструкция внутри функции присваивала значение глобальной переменной, то требуется дополнительный шаг. В этом случае глобальная переменная должна быть объявлена внутри функции.

Рассмотрим следующий программный код:

```python
def print_texas():
    global birds
    birds = 5000
    print('В Техасе обитает', birds, 'птиц.')

def print_california():
    print('В Калифорнии обитает', birds, 'птиц.')

print_texas()
print_california()
```

Приведённый ниже код:

```python
print_texas()
print_california()
```

выводит:

```no-highlight
В Техасе обитает 5000 птиц.
В Калифорнии обитает 5000 птиц.
```

## Глобальные переменные – зло

Большинство программистов согласны, что следует ограничить использование глобальных переменных либо не использовать их вообще. Причины следующие.

- **Глобальные переменные затрудняют отладку программы.** Значение глобальной переменной может быть изменено любой инструкцией в программном файле. Если обнаружится, что в глобальной переменной хранится неверное значение, то придется отыскать все инструкции, которые к ней обращаются, чтобы определить, откуда поступает плохое значение. В программе с тысячами строк кода сделать это непросто.
- **Функции, использующие глобальные переменные, обычно зависят от этих переменных.** Если возникнет необходимость применить такую функцию в другой программе, скорее всего придется эту функцию перепроектировать, чтобы она не опиралась на глобальную переменную.
- **Глобальные переменные затрудняют понимание программы.** Глобальная переменная может быть модифицирована любой инструкцией в программе. При необходимости разобраться в какой-то части программы, использующей глобальную переменную, придется узнать обо всех других частях программы, обращающихся к этой глобальной переменной.
# **`Функции без параметров`**
```python
def название_функции():
    блок кода
```

![](https://ucarecdn.com/e40778ee-7365-4d20-b57d-bc43e5380dcc/)

```python
# объявление функции
def draw_triangle():
    for i in range(1, 11):
        print("*" * i) 

# основная программа
draw_triangle()  # вызов функции
```

Итог:
``` 
*
**
***
****
*****
******
*******
********
*********
**********
```
# **`Функции с параметрами`**
**`Функции`** с параметрами объявляются так же как функции без параметров, только с указанием в скобках:

```python
def название_функции(параметры):
    блок кода
```

![](https://ucarecdn.com/eb433369-43e4-46c0-a77d-cc2836431885/)

```python
def draw_box(height, width): # функция принимает два параметра 
	for i in range(height): 
		print('*' * width)
```

Чтобы вывести звездный прямоугольник размерами 5 на 7 мы пишем код:

```python
draw_box(5, 7)
```

Результатом такого вызова функции `draw_box(5, 7)` будет:

```no-highlight
*******
*******
*******
*******
*******
```

На место параметров мы можем подставлять не только целочисленные константы, но и значения переменных.

Приведённый ниже код:

```python
n = 3
m = 9
draw_box(n, m)
```

выводит:

```no-highlight
*********
*********
*********
```

## Внесение изменений в параметры

Когда аргумент передается в функцию, параметрическая переменная функции будет ссылаться на значение этого аргумента. Однако любые изменения, которые вносятся в параметрическую переменную, не будут влиять на аргумент.

Приведённый ниже код:

```python
def draw_box(height, width):
    height = 2
    width = 10
    for i in range(height):
        print('*' * width)

n = 5
m = 7
draw_box(n, m)
print(n, m)
```

выводит:

```no-highlight
**********
**********
5 7
```

В теле функции вносятся изменения в значения параметрических переменных `height` и `width`, однако это никак не повлияло на значение переменных `n` и `m` из основной программы, которые передавались в качестве аргументов в функцию `draw_box()`.

# **`Функция с возвратом значения`**

Функция с возвратом значения похожа на функцию без возврата значения тем, что:

- это набор инструкций, выполняющий определенную задачу;
- когда нужно выполнить функцию, ее вызывают.

Однако, когда функция с возвратом значения завершается, она возвращает значение в ту часть программы, которая ее вызвала. Возвращаемое из функции значение используется как любое другое: оно может быть присвоено переменной, выведено на экран, использовано в математическом выражении (если это число) и т. д.

Функцию с возвратом значения пишут точно так же, как и без, но она должна иметь инструкцию `return`.

Вот общий формат определения функции с возвратом значения в Python:

```python
def название_функции():
    блок кода
    return выражение
```

В функции должна быть инструкция `return`, принимающая форму:

```python
return выражение
```

Напишем функцию, которая осуществляет перевод: 

```python
def convert_to_celsius(temp):
    result = (5 / 9) * (temp - 32)
    return result
```

Задача этой функции — принять одно число `temp` в качестве аргумента – количество градусов по шкале Фаренгейта, и вернуть другое — количество градусов по шкале Цельсия.

Рассмотрим ее работу. Первая инструкция в блоке функции присваивает значение `(5 / 9) * (temp - 32)` переменной `result`. Затем исполняется инструкция `return`, которая приводит к завершению исполнения функции и отправляет значение из переменной `result`, назад в ту часть программы, которая вызвала эту функцию.

```python
# функция перевода градусов Фаренгейта в градусы Цельсия
def convert_to_celsius(temp):
    result = (5 / 9) * (temp - 32)
    return result

# основная программа
temp = float(input('Bвeдитe количество градусов по Фаренгейту: '))
celsius = convert_to_celsius(temp)
print(celsius)  # градусы Цельсия
```

Основная программа получает от пользователя одно число – значение в градусах Фаренгейта, и вызывает функцию, передавая значение переменной `temp` в качестве аргумента. Значение, которое возвращается из функции `convert_to_celsius`, присваивается переменной `celsius`.

## Использование нескольких return

В одной функции может быть сколько угодно инструкций `return`. Рассмотрим функцию `convert_grade()`, которая переводит стобалльную оценку в пятибалльную:

```python
def convert_grade(grade):
    if grade >= 90:
        return 5
    elif grade >= 80:
        return 4
    elif grade >= 70: 
        return 3
    elif grade >= 60:
        return 2
    else:
        return 1

# основная программа
grade = int(input('Введите вашу отметку по 100-балльной системе: '))
print(convert_grade(grade))
```

В функции `convert_grade()` используется 5 инструкций `return`. Каждая из них возвращает соответствующее значение и завершает работу функции.

Функцию `convert_grade()` можно переписать с помощью одной инструкции `return`:

```python
def convert_grade(grade):
    if grade >= 90:
        result = 5
    elif grade >= 80:
        result = 4
    elif grade >= 70: 
        result = 3
    elif grade >= 60:
        result = 2
    else:
        result = 1
    
    return result
```

# **`Функции с возвратом нескольких значений`**

В Python функции не ограничены возвратом всего одного значения. После инструкции `return` можно определить много выражений, разделенных запятыми:

```python
return выражение 1, выражение 2, выражение 3 ...
```

Следующий программный код определяет функцию `get_powers(num)`, которая принимает в качестве аргумента число `num` и возвращает его квадрат, куб и четвертую степень.

```python
def get_powers(num):
    return num**2, num**3, num**4
```

Приведённый ниже код:

```python
a, b, c = get_powers(2)
print(a)
print(b)
print(c)
```

выводит:

```no-highlight
4
8
16
```

Программный код, решающий задачу, имеет вид:

```python
def solve(a, b, c, d, e, f):
    x = (d * e - b * f)/(a * d - b * c)
    y = (a * f - c * e)/(a * d - b * c)
    return x, y
```

Приведённый ниже код:

```python
xsol, ysol = solve(2, 3, 4, 1, 2, 5)
print('Решением системы являются числа', 'x =', xsol, 'y =', ysol)
```

выводит:

```no-highlight
Решением системы являются числа x = 1.3 y = -0.2
```

# **`Встроенные функции`**

## #Функция `len()`

Функция `len()`

`len()` подсчитывает количества букв в строке.

```python
word = 'dsa'

len(word) = 3
```

## #Функция `ord()`

Функция `ord()` позволяет определить код некоторого символа в таблице символов Unicode. Аргументом данной функции является одиночный символ.

Приведённый ниже код:

```python
num1 = ord('A')
num2 = ord('B')
num3 = ord('a') 
print(num1, num2, num3)
```

выводит:

```no-highlight
65 66 97
```

Обратите внимание, что функция `ord()` принимает именно **одиночный символ**. Если попытаться передать строку, содержащую более одного символа, мы получим ошибку времени выполнения.

Приведённый ниже код:

```python
num = ord('Abc')
print(num)
```

приводит к возникновению ошибки:

```no-highlight
TypeError: ord() expected a character, but string of length 3 found
```

## #Функция `chr()`

Функция `chr()` позволяет определить по коду символа сам символ. Аргументом данной функции является численный код.

Приведённый ниже код:

```python
chr1 = chr(65)
chr2 = chr(75)
chr3 = chr(110)

print(chr1, chr2, chr3)
```

выводит:

```no-highlight
A K n
```

 ![](https://ucarecdn.com/f28d42c5-7a33-4955-b00d-ab7d54cc4d53/)    Название функции `chr()` происходит от английского слова «character» — символ.

Функции `ord()` и `chr()` часто работают в паре. Мы можем использовать следующий код для вывода всех заглавных букв английского алфавита:

```python
for i in range(26):
    print(chr(ord('A') + i))
```

Приведённый выше код выводит:

```no-highlight
A
B
C
...
X
Y
Z
```

Вызов функции `ord('A')` возвращает код символа `A`, который равен 6565. Далее на каждой итерации цикла к данному коду прибавляется значение переменной `i = 0, 1, 2, ..., 25`, а затем полученный код преобразуется в символ с помощью вызова функции `chr()`.

## #Функция `bin()`

Функция `bin()` возвращает строку с двоичным представлением указанного целого числа.

Следующий программный код: 

```python
print(bin(10))
print(bin(128))
print(bin(150))
print(bin(18765))
```

выводит:

```no-highlight
0b1010
0b10000000
0b10010110
0b100100101001101
```

## #Функция `oct()`

Функция `oct()` возвращает строку с восьмеричным представлением указанного целого числа.

Следующий программный код: 

```python
print(oct(10))
print(oct(128))
print(oct(150))
print(oct(18765))
```

выводит:

```no-highlight
0o12
0o200
0o226
0o44515
```

## #Функция `hex()`

Функция `hex()` возвращает строку с шестнадцатеричным представлением указанного целого числа.

Следующий программный код: 

```python
print(hex(10))
print(hex(128))
print(hex(150))
print(hex(18765))
```

выводит:

```no-highlight
0xa
0x80
0x96
0x494d
```
## #Функция `bool()`

Для приведения других типов данных к булеву существует функция `bool()`, работающая по следующим соглашениям:

- **строки:** пустая строка – ложь (`False`), непустая строка – истина (`True`);
- **числа:** нулевое число – ложь (`False`), ненулевое число (в том числе и меньшее нуля) – истина (`True`);
- **списки:** пустой список – ложь (`False`), непустой – истина (`True`).

Приведенный ниже код:

```python
print(bool('Beegeek'))
print(bool(17))
print(bool(['apple', 'cherry']))
print(bool())
print(bool(''))
print(bool(0))
print(bool([]))
```

выводит:

```no-highlight
True
True
True
False
False
False
False
```

Если функцию `bool()` вызвать без аргументов, то она вернет значение `False`
## #Функция `isinstance()`

В языке Python имеется встроенная функция `isinstance()` для проверки соответствия типа объекта какому-либо типу данных.

Приведенный ниже код:

```python
print(isinstance(3, int))
print(isinstance(3.5, float))
print(isinstance('Beegeek', str))
print(isinstance([1, 2, 3], list))
print(isinstance(True, bool))
```

выводит:

```no-highlight
True
True
True
True
True
```

Приведенный ниже код:

```python
print(isinstance(3.5, int))
print(isinstance('Beegeek', float))
```

выводит:

```no-highlight
False
False
```

## #Функция `type()`

В языке Python имеется встроенная функция `type()`, позволяющая получить тип указанного в качестве аргумента объекта.

Приведенный ниже код:

```python
print(type(3))
print(type(3.5))
print(type('Beegeek'))
print(type([1, 2, 3]))
print(type(True))
```

выводит:

```1c
<class 'int'>
<class 'float'>
<class 'str'>
<class 'list'>
<class 'bool'>
```

Функция `type()` часто бывает полезна при отладке программного кода, а также в реальном коде, особенно в объектно-ориентированном программировании с наследованием и пользовательскими строковыми представлениями.